(()=>{var c=(o,e)=>Array.from(document.querySelectorAll(o)).forEach(e),s=0,d=["I'm sorry but that's not how that works.","If I have time I'll finish it.","Listen if it's that great you can let me know and I'll add it to my backlog.","Oh look, I'm literally about to beat the final level!","Screw it. You win. I'm done."];document.addEventListener("DOMContentLoaded",function(o){c(".gaming-spine-label",e=>{let t=document.createElement("button");e.getAttributeNames().forEach(r=>t.setAttribute(r,e.getAttribute(r))),t.type="button",t.classList.add("button-reset"),t.innerHTML=e.innerHTML,e.replaceWith(t)})});document.addEventListener("click",function(o){let e;if(e=o.target.closest("[data-games-toggled]"))e.dataset.gamesToggled=String(e.dataset.gamesToggled!=="true"),c("details",t=>t.open=e.dataset.gamesToggled==="true");else if(e=o.target.closest(".gaming-spine-label")){let t=JSON.parse(e.closest("[data-game]").getAttribute("data-game")),r=document.getElementById("gaming-details-dialog"),l=document.getElementById("gaming-details-dialog-template").content.cloneNode(!0);l.querySelectorAll("[data-slot-show], [data-slot]:not([data-slot-show] *)").forEach(a=>{let m=a.getAttribute("data-slot-show")||a.getAttribute("data-slot"),n=t[m];a.hidden=Array.isArray(n)?n.length===0:!n}),["title","edition","region","platform","dlc","year"].forEach(a=>{l.querySelector(`[data-slot="${a}"]`).innerText=t[a]}),l.querySelector('[data-slot-computed="format"]').innerText=t.discs?t.discs>1?`${t.discs} discs`:"disc":"digital",t.completed===null?(l.querySelector('[data-slot-checkbox="completed"]').indeterminate=!0,l.querySelector('[data-slot-computed="completed"]').innerText="Partial"):(l.querySelector('[data-slot-checkbox="completed"]').checked=t.completed,l.querySelector('[data-slot-computed="completed"]').innerText=t.completed?"Yes":"No"),l.querySelector('[data-slot-checkbox="completed"]').setAttribute("data-clean-value",String(t.completed)),l.querySelector('[data-slot-computed="subItems"]').innerHTML=t.subItems.length>0?`<ul>${t.subItems.map(a=>`<li data-sub-game-completed="${a.completed.toString()}">${a.title}</li>`).join("")}</ul>`:"",Array.from(r.childNodes).forEach(a=>a.remove()),r.append(l);try{r.showModal()}catch{r.setAttribute("open","")}}else if(e=o.target.closest("[data-hide-game-info]"))try{e.closest("dialog").close()}catch{dialog.removeAttribute("open")}else if(e=o.target.closest('[data-slot-checkbox="completed"]')){if(e.getAttribute("data-clean-value")==="true"){o.preventDefault(),alert("I wish I could unbeat a game and relive it for the first time. Alas, such delights are not meant for us mere mortals\u2026");return}if(s<d.length&&alert(d[s]),s>=d.length-1){s++;return}s++,o.preventDefault()}});document.addEventListener("change",function(o){let e;if(e=o.target.closest("[data-games-sizing]")){let t=e.value||"md",r={sm:"0.75em",md:"1em",lg:"1.25em"};c("[data-gaming-platform]",i=>i.style.fontSize=r[t])}});})();
