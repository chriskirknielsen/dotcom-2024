(()=>{var c=(a,t)=>Array.from(document.querySelectorAll(a)).forEach(t),d=0,s=["I'm sorry but that's not how that works.","If I have time I'll finish it.","Listen, if it's that great, you can let me know and I'll add it to my backlog.","Oh look, I'm literally about to beat the final level!","Screw it. You win. I'm done."];document.addEventListener("DOMContentLoaded",function(a){document.querySelector("[data-gaming-toolbar]").hidden=!1,c(".gaming-spine-label",t=>{let e=document.createElement("button");t.getAttributeNames().forEach(r=>e.setAttribute(r,t.getAttribute(r))),e.type="button",e.classList.add("button-reset"),e.innerHTML=t.innerHTML,t.replaceWith(e)})});document.addEventListener("click",function(a){let t;if(t=a.target.closest("[data-games-toggled]"))t.dataset.gamesToggled=String(t.dataset.gamesToggled!=="true"),c("details",e=>e.open=t.dataset.gamesToggled==="true");else if(t=a.target.closest(".gaming-spine-label")){let e=JSON.parse(t.closest("[data-game]").getAttribute("data-game")),r=document.getElementById("gaming-details-dialog"),l=document.getElementById("gaming-details-dialog-template").content.cloneNode(!0),m="gaming-details-dialog-title";l.querySelectorAll("[data-slot-show], [data-slot]:not([data-slot-show] *)").forEach(o=>{let u=o.getAttribute("data-slot-show")||o.getAttribute("data-slot"),n=e[u];o.hidden=Array.isArray(n)?n.length===0:!n}),["title","edition","region","platform","dlc","year"].forEach(o=>{l.querySelector(`[data-slot="${o}"]`).innerText=e[o]}),l.querySelector('[data-slot="title"]').setAttribute("id",m),l.querySelector('[data-slot-computed="format"]').innerText=e.discs?e.discs>1?`${e.discs} discs`:"disc":"digital",e.completed===null?(l.querySelector('[data-slot-checkbox="completed"]').indeterminate=!0,l.querySelector('[data-slot-computed="completed"]').innerText="Partial"):(l.querySelector('[data-slot-checkbox="completed"]').checked=e.completed,l.querySelector('[data-slot-computed="completed"]').innerText=e.completed?"Yes":"No"),l.querySelector('[data-slot-checkbox="completed"]').setAttribute("data-clean-value",String(e.completed)),l.querySelector('[data-slot-computed="subItems"]').innerHTML=e.subItems.length>0?`<ul>${e.subItems.map(o=>`<li>
								<input type="checkbox" aria-hidden="true" ${o.completed?"checked":""} readonly>
								${o.title}
								<span class="visually-hidden">${o.completed?"(completed)":"(not completed)"}</span>
							</li>`).join("")}</ul>`:"",Array.from(r.childNodes).forEach(o=>o.remove()),r.append(l),r.setAttribute("aria-labelledby",m);try{r.showModal()}catch{r.setAttribute("open","")}}else if(t=a.target.closest("[data-hide-game-info]"))try{t.closest("dialog").close()}catch{dialog.removeAttribute("open")}else{if(t=a.target.closest('[type="checkbox"][readonly]'))return a.preventDefault(),!1;if(t=a.target.closest('[data-slot-checkbox="completed"]')){if(t.getAttribute("data-clean-value")==="true"){a.preventDefault(),alert("I wish I could unbeat a game and relive it for the first time. Alas, such delights are not meant for us mere mortals\u2026");return}if(d<s.length&&alert(s[d]),d>=s.length-1){d++,a.target.parentElement.querySelector('[data-slot-computed="completed"]').innerText=a.target.checked?"Yes":"No";return}d++,a.preventDefault()}}});document.addEventListener("change",function(a){let t;if(t=a.target.closest("[data-games-sizing]")){let e=t.value||"md",r={sm:"0.75em",md:"1em",lg:"1.25em"};c("[data-gaming-platform]",i=>i.style.fontSize=r[e])}});})();
