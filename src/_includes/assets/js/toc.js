(()=>{document.addEventListener("DOMContentLoaded",()=>{let t=Array.from(document.querySelectorAll(".toc ~ h2 .heading-anchor"));if(t.length===0)return;let n=new Set,i=e=>e.closest(".toc-list > li").setAttribute("data-current",""),d=e=>e.closest(".toc-list > li").removeAttribute("data-current"),s=e=>document.querySelector(`.toc-list a[href="${e.getAttribute("href")}"]`);i(s(t[0]));let l=new IntersectionObserver(e=>{e.forEach(c=>{c.isIntersecting?n.add(c.target):n.delete(c.target);let a=Array.from(n.values()).sort((r,o)=>t.indexOf(o)-t.indexOf(r))[0];a&&t.forEach(r=>{let o=s(r);r===a?i(o):d(o)})})},{rootMargin:`${document.body.clientHeight}px 0px -33% 0px`,threshold:1});t.forEach(e=>l.observe(e))});})();
