(()=>{var l=class extends HTMLElement{spawn(e,t){return Object.assign(document.createElement(e),t)}shuffle(e){for(let t=e.length-1;t>0;t-=1){let s=Math.floor(Math.random()*(t+1));[e[t],e[s]]=[e[s],e[t]]}return e}constructor(){super(),this.itemsList=this.shuffle(Array.from(this.querySelectorAll('[data-expander="content-items"] > li')).map(n=>[n.getAttribute("data-item-emoji"),n.textContent]));let e=this.querySelector('[data-expander="wrapper"]');this.blockDiv=this.spawn("div",{className:e.className});let t=this.querySelector('[data-expander="trigger"]'),s=Array.from(t.children);this.ctaButton=this.spawn("button",{className:t.className}),this.ctaButton.style.setProperty("--btn-justify-content",t.style.getPropertyValue("--btn-justify-content"));let h=this.querySelector('[data-expander="content"]');this.outputContainer=this.spawn("div",{className:h.className,hidden:!0,innerHTML:'<p data-item="wrap"><span data-item="emoji" aria-hidden="true">&nbsp;</span>&ensp;<span data-item="content">&nbsp;</span></p>'}),s.length>0?this.ctaButton.append(...s):this.ctaButton.innerText=t.innerText,this.blockDiv.appendChild(this.ctaButton),this.blockDiv.appendChild(this.outputContainer),e.replaceWith(this.blockDiv),this.currentItemIndex=-1,this.transitionTime=200,this.ctaButton.addEventListener("click",()=>{let n=window.matchMedia("(prefers-reduced-motion: reduce)").matches,m=(this.currentItemIndex+1)%this.itemsList.length,d=this.itemsList[m];(this.outputContainer.hidden||this.currentItemIndex===-1)&&(this.outputContainer.hidden=!1,this.blockDiv.setAttribute("data-open","true"));let o=this.outputContainer.querySelector('[data-item="wrap"]'),a=this.outputContainer.querySelector('[data-item="emoji"]'),i=this.outputContainer.querySelector('[data-item="content"]'),r=()=>(a.innerText=d[0],i.innerText=d[1],!0);if(!n&&document.startViewTransition&&typeof ViewTransitionTypeSet=="function"&&(a.style.viewTransitionName="emoji",a.style.viewTransitionClass="cyclingExpander",i.style.viewTransitionName="content",i.style.viewTransitionClass="cyclingExpander",document.startViewTransition&&!this._noAnimRootStyle)){let c=this.spawn("style",{textContent:`html:not(:active-view-transition-type(--cycling-expander))::view-transition-group(.cyclingExpander) {
								animation: none;
							}html:active-view-transition-type(--cycling-expander)::view-transition-old(content),
							html:active-view-transition-type(--cycling-expander)::view-transition-new(content) {
								height: 100%;
								object-fit: none;
								overflow: clip;
							}html:active-view-transition-type(--cycling-expander)::view-transition-group(.cyclingExpander) {
								animation-duration: ${this.transitionTime}ms;
							}`});document.head.append(c)}if(!n&&document.startViewTransition&&typeof ViewTransitionTypeSet=="function"&&this.currentItemIndex>-1)this._noAnimRootStyle||(this._noAnimRootStyle=this.spawn("style",{textContent:"html { view-transition-name: none; }::view-transition, ::view-transition-group(root) { pointer-events: none !important; }"}),document.head.append(this._noAnimRootStyle)),requestAnimationFrame(()=>{document.startViewTransition({update:r,types:["--cycling-expander"]}).finished.then(()=>{this._noAnimRootStyle&&(this._noAnimRootStyle.remove(),this._noAnimRootStyle=null),a.style.viewTransitionName="",a.style.viewTransitionClass="",i.style.viewTransitionName="",i.style.viewTransitionClass=""})});else if(i.innerText.length<=1||n)r();else{o.getAnimations().forEach(p=>p.finish());let c=o.animate({opacity:[1,0],translate:["0 0","0 0.25em"]},{duration:this.transitionTime,iterations:1,easing:"ease-in"}).finished,y=o.animate({opacity:[0,1],translate:["0 -0.25em","0 0"]},{delay:this.transitionTime,duration:this.transitionTime,iterations:1,easing:"ease-out"}).finished;c.then(()=>r())}this.currentItemIndex=m})}};customElements.define("cycling-expander",l);})();
