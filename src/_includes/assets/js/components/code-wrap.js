(()=>{var t=class extends HTMLElement{constructor(){super(),this.nbsp="\xA0",this.copyLabel=this.getAttribute("copy-label")||"Copy",this.copyDoneLabel=this.getAttribute("copy-done-label")||"Done",this.copyClass=this.getAttribute("copy-class")||"",this.toolbar=this.querySelector(".codeblock-toolbar"),this.actionWrapper=Object.assign(document.createElement("div"),{className:this.getAttribute("actionwrap-class")||""}),this.copyButton=Object.assign(document.createElement("button"),{type:"button",className:this.copyClass,innerText:this.copyLabel}),this.alertEl=Object.assign(document.createElement("div"),{role:"alert",innerText:this.nbsp,ariaHidden:!0}),this.copyButtonTimeout=null,this.copyButton.setAttribute("data-codewrap-copy",""),this.toolbar.append(this.actionWrapper),this.actionWrapper.append(this.copyButton,this.alertEl),this.clipboard=!!navigator.clipboard.writeText,this.addEventListener("click",this)}disconnectedCallback(){this.removeEventListener("click",this)}handleEvent(e){if(e.type==="click"&&this.clipboard){let i=e.target.closest("[data-codewrap-copy]");if(!i)return;let o=i.closest(".codeblock").querySelector("code");if(!o)return;clearTimeout(this.copyButtonTimeout),navigator.clipboard.writeText(o.innerText).then(()=>{this.alertEl.innerText=this.copyDoneLabel}).catch(s=>{console.error(s),this.alertEl.innerText="\u274C Error!"}).finally(()=>{this.alertEl.ariaHidden=!1,this.copyButtonTimeout=setTimeout(()=>{this.alertEl.addEventListener("transitionend",()=>{this.alertEl.innerText=this.nbsp},{once:!0}),this.alertEl.ariaHidden=!0},2e3)})}}};customElements.define("code-wrap",t);})();
