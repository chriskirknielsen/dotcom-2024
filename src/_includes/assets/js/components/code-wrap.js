(()=>{var t=class extends HTMLElement{constructor(){super(),this.copyLabel=this.getAttribute("copy-label")||"Copy",this.copyDoneLabel=this.getAttribute("copy-done-label")||"Done",this.copyClass=this.getAttribute("copy-class")||"",this.toolbar=this.querySelector(".codeblock-toolbar"),this.copyButton=Object.assign(document.createElement("button"),{type:"button",className:this.copyClass,innerText:this.copyLabel}),this.copyButtonTimeout=null,this.copyButton.setAttribute("data-codewrap-copy",""),this.toolbar.append(this.copyButton),this.clipboard=!!navigator.clipboard.writeText,this.addEventListener("click",this)}disconnectedCallback(){this.removeEventListener("click",this)}handleEvent(e){if(e.type==="click"&&this.clipboard){let o=e.target.closest("[data-codewrap-copy]");if(!o)return;let c=o.closest(".codeblock").querySelector("code");if(!c)return;clearTimeout(this.copyButtonTimeout),navigator.clipboard.writeText(c.innerText).then(()=>{this.copyButton.innerText=this.copyDoneLabel}).catch(i=>{console.error(i),this.copyButton.innerText="\u274C Error!"}).finally(()=>{this.copyButtonTimeout=setTimeout(()=>{this.copyButton.innerText=this.copyLabel},2e3)})}}};customElements.define("code-wrap",t);})();
