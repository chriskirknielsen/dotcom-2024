(()=>{function T(p,y){let A=y+":",S=window.location.hash.slice(1),c=Array.from(p.querySelectorAll("[data-tags]")),E=p.querySelector("[data-filtered-list]"),x="designFilter";function f(t){t.style.width="",t.style.height="",t.removeAttribute("data-first"),t.removeAttribute("data-shown-from-to"),t.getAnimations().forEach(r=>r.cancel())}function q(t,r=!1){let h=t==="",v=t?"#"+A+t:"./",s=window.matchMedia("(prefers-reduced-motion: reduce)").matches;if(history.replaceState(void 0,"",v),t?sessionStorage.setItem(x,t):sessionStorage.removeItem(x),r||s||!Element.prototype.animate){c.forEach(function(e){let $=e.getAttribute("data-tags").split(","),w=e.getAttribute("aria-hidden")==="false",l=$.indexOf(t)>-1||h;e.hidden=!0;let n=()=>{e.setAttribute("aria-hidden",(!l).toString()),e.hidden=!1};r||s?requestAnimationFrame(n):n()});return}let m={duration:300,easing:getComputedStyle(c[0]).transitionTimingFunction||"ease-in-out"},d=E.getBoundingClientRect(),u=document.querySelector(".footer");E.style.setProperty("--t",`${m.duration}ms`),c.forEach(function(e){f(e);let $=e.getAttribute("data-tags").split(","),w=e.getAttribute("aria-hidden")==="false",l=$.indexOf(t)>-1||h,n=e.getBoundingClientRect();e.setAttribute("data-first",JSON.stringify(n)),e.setAttribute("data-shown-from-to",`${w?1:0},${l?1:0}`)});let g=u.offsetTop;c.forEach(function(e,$){let l=e.getAttribute("data-shown-from-to").split(",").map(n=>parseInt(n,10))[1]===1;e.setAttribute("aria-hidden",(!l).toString())});let C=u.offsetTop;c.forEach(function(e,$){let w=e.getAttribute("data-shown-from-to").split(",").map(L=>parseInt(L,10)),l=w[0]===1,n=w[1]===1,i=JSON.parse(e.getAttribute("data-first")),b=e.getBoundingClientRect(),a={},o={};l&&n?(a.transform=`translate(${i.left-b.left}px, ${i.top-b.top}px)`,o.transform="translate(0, 0)"):l&&!n?(a.transform=`translate(${i.left-d.left}px, ${i.top-d.top}px) scale(1)`,a.opacity="1",a.width=`${i.width}px`,a.height=`${i.height}px`,o.transform=`translate(${i.left-d.left}px, ${i.top-d.top}px) scale(0)`,o.opacity="0",o.width=`${i.width}px`,o.height=`${i.height}px`):!l&&n?(a.transform=`translate(${i.left-d.left}px, ${i.top-d.top}px) scale(0)`,a.opacity="0",a.width=`${b.width}px`,a.height=`${b.height}px`,o.transform="translate(0, 0) scale(1)",o.opacity="1",o.width=`${b.width}px`,o.height=`${b.height}px`):!l&&!n&&(a.transform="scale(0)",o.transform="scale(0)"),e.animate([a,o],m).addEventListener("finish",L=>f(e))});let I=C-g;u.animate([{transform:`translateY(${-1*I}px)`},{transform:"translateY(0)"}],m)}if(S.indexOf(A)===0){let t=S.slice(A.length),r=p.querySelector("#filter-"+(t||"all"));r||(t="",r=p.querySelector("#filter-all")),r.checked=!0,q(t,!0)}p.addEventListener("input",function(t){let r=t.target.closest(`[name="${y}"]`);if(!r)return;let h=r.value;q(h)})}var O=class extends HTMLElement{constructor(){if(super(),!this.querySelector("[data-filtered-tiles-template]"))throw new Error("A template must be provided to create the filter elements.");if(!this.querySelector("[data-filtered-tiles-group]"))throw new Error("A group for the items must be provided to enable filtering.");let y=this.querySelector("[data-filtered-tiles-group]");y.setAttribute("data-filtered-list",""),Array.from(y.children).forEach(s=>s.setAttribute("data-filtered-item",""));let A=this.dataset.filters.split(",").map(s=>s.trim().toLowerCase()),S=this.getAttribute("filter-class")||"",c=this.getAttribute("filter-legend")||"Filter",E=this.getAttribute("filter-all-label")||"All",x=this.getAttribute("input-name")||"filter",f=Object.assign(document.createElement("fieldset"),{className:"filtering"});S&&f.classList.add(S);let q=Object.assign(document.createElement("legend"),{className:"visually-hidden",innerText:c}),t=Object.assign(document.createElement("strong"),{ariaHidden:!0,className:"filtering-legend",innerText:c});f.appendChild(q),f.appendChild(t);let r=this.querySelector("[data-filtered-tiles-template]"),h=(s,m=null,d=!1)=>{let u=r.content.cloneNode(!0),g=u.querySelector("input"),C=u.querySelector("label"),I=`filter-${(m||s).toLowerCase()}`;return g.id=I,g.name=x,g.value=s||"",g.checked=d,C.htmlFor=I,C.innerText=m||s,u};[h("",E,!0)].concat(A.map(s=>h(s))).forEach(s=>f.appendChild(s.firstElementChild)),this.insertBefore(f,this.firstChild),T(this,x)}};customElements.define("filtered-tiles",O);})();
