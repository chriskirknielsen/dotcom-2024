(()=>{function H(m,A){let S=A+":",E=window.location.hash.slice(1),r=Array.from(m.querySelectorAll("[data-tags]")),$=m.querySelector("[data-filtered-list]"),x="designFilter";function h(t,a){for(let e in a)t.style[e]=a[e]}function T(t){t.style.width="",t.style.height="",t.removeAttribute("data-first"),t.removeAttribute("data-shown-from-to"),t.getAnimations().forEach(a=>a.cancel())}function v(t,a=!1){let e=t==="",C=t?"#"+S+t:"./",q=window.matchMedia("(prefers-reduced-motion: reduce)").matches,w=!a&&!q,u=!!(document.startViewTransition&&typeof ViewTransitionTypeSet=="function");if(history.replaceState(void 0,"",C),t?sessionStorage.setItem(x,t):sessionStorage.removeItem(x),u||!w||!Element.prototype.animate){let i=function(){r.forEach(function(n){let p=n.getAttribute("data-tags").split(","),d=n.getAttribute("aria-hidden")==="false",f=p.indexOf(t)>-1||e;n.hidden=!0;let s=()=>{n.setAttribute("aria-hidden",(!f).toString()),n.hidden=!1};a||q?requestAnimationFrame(s):s()})};if(!u||!w)return i();$.setAttribute("data-view-transition-type",""),r.forEach(n=>{h(n,{viewTransitionName:`--vt-${n.id}`,viewTransitionClass:"filteredTileItem"})}),requestAnimationFrame(()=>{document.startViewTransition({update:i,types:["--filtered-tiles"]}).finished.then(()=>{r.forEach(n=>{h(n,{viewTransitionName:"",viewTransitionClass:""})})})});return}let y={duration:getComputedStyle(r[0]).transitionDuration||300,easing:getComputedStyle(r[0]).transitionTimingFunction||"ease-in-out"},c=$.getBoundingClientRect(),I=document.querySelector(".footer");$.style.setProperty("--t",`${y.duration}ms`),r.forEach(function(i){T(i);let n=i.getAttribute("data-tags").split(","),p=i.getAttribute("aria-hidden")==="false",d=n.indexOf(t)>-1||e,f=i.getBoundingClientRect();i.setAttribute("data-first",JSON.stringify(f)),i.setAttribute("data-shown-from-to",`${p?1:0},${d?1:0}`)});let F=I.offsetTop;r.forEach(function(i,n){let d=i.getAttribute("data-shown-from-to").split(",").map(f=>parseInt(f,10))[1]===1;i.setAttribute("aria-hidden",(!d).toString())});let N=I.offsetTop;r.forEach(function(i,n){let p=i.getAttribute("data-shown-from-to").split(",").map(L=>parseInt(L,10)),d=p[0]===1,f=p[1]===1,s=JSON.parse(i.getAttribute("data-first")),b=i.getBoundingClientRect(),o={},l={};d&&f?(o.transform=`translate(${s.left-b.left}px, ${s.top-b.top}px)`,l.transform="translate(0, 0)"):d&&!f?(o.transform=`translate(${s.left-c.left}px, ${s.top-c.top}px) scale(1)`,o.opacity="1",o.width=`${s.width}px`,o.height=`${s.height}px`,l.transform=`translate(${s.left-c.left}px, ${s.top-c.top}px) scale(0)`,l.opacity="0",l.width=`${s.width}px`,l.height=`${s.height}px`):!d&&f?(o.transform=`translate(${s.left-c.left}px, ${s.top-c.top}px) scale(0)`,o.opacity="0",o.width=`${b.width}px`,o.height=`${b.height}px`,l.transform="translate(0, 0) scale(1)",l.opacity="1",l.width=`${b.width}px`,l.height=`${b.height}px`):!d&&!f&&(o.transform="scale(0)",l.transform="scale(0)"),i.animate([o,l],y).addEventListener("finish",L=>T(i))});let B=N-F;I.animate([{transform:`translateY(${-1*B}px)`},{transform:"translateY(0)"}],y)}let g="";if(E.indexOf(S)===0){g=E.slice(S.length);let t=m.querySelector("#filter-"+(g||"all"));t||(g="",t=m.querySelector("#filter-all")),t.checked=!0}v(g,!0),m.addEventListener("input",function(t){let a=t.target.closest(`[name="${A}"]`);if(!a)return;let e=a.value;v(e)})}var O=class extends HTMLElement{constructor(){if(super(),!this.querySelector("[data-filtered-tiles-template]"))throw new Error("A template must be provided to create the filter elements.");if(!this.querySelector("[data-filtered-tiles-group]"))throw new Error("A group for the items must be provided to enable filtering.");let A=this.querySelector("[data-filtered-tiles-group]");A.setAttribute("data-filtered-list",""),Array.from(A.children).forEach(e=>e.setAttribute("data-filtered-item",""));let S=this.dataset.filters.split(",").map(e=>e.trim().toLowerCase()),E=this.getAttribute("filter-class")||"",r=this.getAttribute("filter-legend")||"Filter",$=this.getAttribute("filter-all-label")||"All",x=this.getAttribute("input-name")||"filter",h=Object.assign(document.createElement("fieldset"),{className:"filtering"});E&&h.classList.add(E);let T=Object.assign(document.createElement("legend"),{className:"visually-hidden",innerText:r}),v=Object.assign(document.createElement("strong"),{ariaHidden:!0,className:"filtering-legend",innerText:r});h.appendChild(T),h.appendChild(v);let g=this.querySelector("[data-filtered-tiles-template]"),t=(e,C=null,q=!1)=>{let w=g.content.cloneNode(!0),u=w.querySelector("input"),y=w.querySelector("label"),c=`filter-${(C||e).toLowerCase()}`;return u.id=c,u.name=x,u.value=e||"",u.checked=q,y.htmlFor=c,y.append(C||e),w};[t("",$,!0)].concat(S.map(e=>t(e))).forEach(e=>h.appendChild(e.firstElementChild)),this.insertBefore(h,this.firstChild),H(this,x)}};customElements.define("filtered-tiles",O);})();
