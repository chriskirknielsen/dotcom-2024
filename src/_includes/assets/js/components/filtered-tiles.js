(()=>{function F(u,w){let b=w+":",y=window.location.hash.slice(1),f=Array.from(u.querySelectorAll("[data-tags]")),q=u.querySelector("[data-filtered-list]"),A="designFilter";function d(t){t.style.width="",t.style.height="",t.removeAttribute("data-first"),t.removeAttribute("data-shown-from-to"),t.getAnimations().forEach(o=>o.cancel())}function C(t,o=!1){let S=t==="",s=t?"#"+b+t:"./",$=window.matchMedia("(prefers-reduced-motion: reduce)").matches;if(history.replaceState(void 0,"",s),t?sessionStorage.setItem(A,t):sessionStorage.removeItem(A),o||$||!Element.prototype.animate){f.forEach(function(e){let E=e.getAttribute("data-tags").split(","),m=e.getAttribute("aria-hidden")==="false",c=E.indexOf(t)>-1||S;e.hidden=!0;let i=()=>{e.setAttribute("aria-hidden",(!c).toString()),e.hidden=!1};o||$?requestAnimationFrame(i):i()});return}let x={duration:300,easing:getComputedStyle(f[0]).transitionTimingFunction||"ease-in-out"},l=q.getBoundingClientRect(),h=document.querySelector(".footer");q.style.setProperty("--t",`${x.duration}ms`),f.forEach(function(e){d(e);let E=e.getAttribute("data-tags").split(","),m=e.getAttribute("aria-hidden")==="false",c=E.indexOf(t)>-1||S,i=e.getBoundingClientRect();e.setAttribute("data-first",JSON.stringify(i)),e.setAttribute("data-shown-from-to",`${m?1:0},${c?1:0}`)});let I=h.offsetTop;f.forEach(function(e,E){let c=e.getAttribute("data-shown-from-to").split(",").map(i=>parseInt(i,10))[1]===1;e.setAttribute("aria-hidden",(!c).toString())});let O=h.offsetTop;f.forEach(function(e,E){let m=e.getAttribute("data-shown-from-to").split(",").map(L=>parseInt(L,10)),c=m[0]===1,i=m[1]===1,r=JSON.parse(e.getAttribute("data-first")),g=e.getBoundingClientRect(),n={},a={};c&&i?(n.transform=`translate(${r.left-g.left}px, ${r.top-g.top}px)`,a.transform="translate(0, 0)"):c&&!i?(n.transform=`translate(${r.left-l.left}px, ${r.top-l.top}px) scale(1)`,n.opacity="1",n.width=`${r.width}px`,n.height=`${r.height}px`,a.transform=`translate(${r.left-l.left}px, ${r.top-l.top}px) scale(0)`,a.opacity="0",a.width=`${r.width}px`,a.height=`${r.height}px`):!c&&i?(n.transform=`translate(${r.left-l.left}px, ${r.top-l.top}px) scale(0)`,n.opacity="0",n.width=`${g.width}px`,n.height=`${g.height}px`,a.transform="translate(0, 0) scale(1)",a.opacity="1",a.width=`${g.width}px`,a.height=`${g.height}px`):!c&&!i&&(n.transform="scale(0)",a.transform="scale(0)"),e.animate([n,a],x).addEventListener("finish",L=>d(e))});let T=O-I;h.animate([{transform:`translateY(${-1*T}px)`},{transform:"translateY(0)"}],x)}let p="";if(y.indexOf(b)===0){p=y.slice(b.length);let t=u.querySelector("#filter-"+(p||"all"));t||(p="",t=u.querySelector("#filter-all")),t.checked=!0}C(p,!0),u.addEventListener("input",function(t){let o=t.target.closest(`[name="${w}"]`);if(!o)return;let S=o.value;C(S)})}var v=class extends HTMLElement{constructor(){if(super(),!this.querySelector("[data-filtered-tiles-template]"))throw new Error("A template must be provided to create the filter elements.");if(!this.querySelector("[data-filtered-tiles-group]"))throw new Error("A group for the items must be provided to enable filtering.");let w=this.querySelector("[data-filtered-tiles-group]");w.setAttribute("data-filtered-list",""),Array.from(w.children).forEach(s=>s.setAttribute("data-filtered-item",""));let b=this.dataset.filters.split(",").map(s=>s.trim().toLowerCase()),y=this.getAttribute("filter-class")||"",f=this.getAttribute("filter-legend")||"Filter",q=this.getAttribute("filter-all-label")||"All",A=this.getAttribute("input-name")||"filter",d=Object.assign(document.createElement("fieldset"),{className:"filtering"});y&&d.classList.add(y);let C=Object.assign(document.createElement("legend"),{className:"visually-hidden",innerText:f}),p=Object.assign(document.createElement("strong"),{ariaHidden:!0,className:"filtering-legend",innerText:f});d.appendChild(C),d.appendChild(p);let t=this.querySelector("[data-filtered-tiles-template]"),o=(s,$=null,x=!1)=>{let l=t.content.cloneNode(!0),h=l.querySelector("input"),I=l.querySelector("label"),O=`filter-${($||s).toLowerCase()}`;return h.id=O,h.name=A,h.value=s||"",h.checked=x,I.htmlFor=O,I.append($||s),l};[o("",q,!0)].concat(b.map(s=>o(s))).forEach(s=>d.appendChild(s.firstElementChild)),this.insertBefore(d,this.firstChild),F(this,A)}};customElements.define("filtered-tiles",v);})();
