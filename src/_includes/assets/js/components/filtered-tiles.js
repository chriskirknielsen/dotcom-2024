(()=>{function T(p,S){let A=S+":",x=window.location.hash.slice(1),f=Array.from(p.querySelectorAll("[data-tags]")),E=p.querySelector("[data-filtered-list]"),m="designFilter";function c(t){t.style.width="",t.style.height="",t.removeAttribute("data-first"),t.removeAttribute("data-shown-from-to"),t.getAnimations().forEach(r=>r.cancel())}function I(t,r=!1){let h=t==="",v=t?"#"+A+t:"./",s=window.matchMedia("(prefers-reduced-motion: reduce)").matches;if(history.replaceState(void 0,"",v),t?sessionStorage.setItem(m,t):sessionStorage.removeItem(m),r||s||!Element.prototype.animate){f.forEach(function(e){let $=e.getAttribute("data-tags").split(","),b=e.getAttribute("aria-hidden")==="false",l=$.indexOf(t)>-1||h;e.hidden=!0;let n=()=>{e.setAttribute("aria-hidden",(!l).toString()),e.hidden=!1};r||s?requestAnimationFrame(n):n()});return}let g={duration:300,easing:getComputedStyle(f[0]).transitionTimingFunction||"ease-in-out"},d=E.getBoundingClientRect(),u=document.querySelector(".footer");E.style.setProperty("--t",`${g.duration}ms`),f.forEach(function(e){c(e);let $=e.getAttribute("data-tags").split(","),b=e.getAttribute("aria-hidden")==="false",l=$.indexOf(t)>-1||h,n=e.getBoundingClientRect();e.setAttribute("data-first",JSON.stringify(n)),e.setAttribute("data-shown-from-to",`${b?1:0},${l?1:0}`)});let w=u.offsetTop;f.forEach(function(e,$){let l=e.getAttribute("data-shown-from-to").split(",").map(n=>parseInt(n,10))[1]===1;e.setAttribute("aria-hidden",(!l).toString())});let q=u.offsetTop;f.forEach(function(e,$){let b=e.getAttribute("data-shown-from-to").split(",").map(L=>parseInt(L,10)),l=b[0]===1,n=b[1]===1,i=JSON.parse(e.getAttribute("data-first")),y=e.getBoundingClientRect(),a={},o={};l&&n?(a.transform=`translate(${i.left-y.left}px, ${i.top-y.top}px)`,o.transform="translate(0, 0)"):l&&!n?(a.transform=`translate(${i.left-d.left}px, ${i.top-d.top}px) scale(1)`,a.opacity="1",a.width=`${i.width}px`,a.height=`${i.height}px`,o.transform=`translate(${i.left-d.left}px, ${i.top-d.top}px) scale(0)`,o.opacity="0",o.width=`${i.width}px`,o.height=`${i.height}px`):!l&&n?(a.transform=`translate(${i.left-d.left}px, ${i.top-d.top}px) scale(0)`,a.opacity="0",a.width=`${y.width}px`,a.height=`${y.height}px`,o.transform="translate(0, 0) scale(1)",o.opacity="1",o.width=`${y.width}px`,o.height=`${y.height}px`):!l&&!n&&(a.transform="scale(0)",o.transform="scale(0)"),e.animate([a,o],g).addEventListener("finish",L=>c(e))});let C=q-w;u.animate([{transform:`translateY(${-1*C}px)`},{transform:"translateY(0)"}],g)}if(x.indexOf(A)===0){let t=x.slice(A.length);t==="__restore__"&&(t=sessionStorage.getItem(m)||"");let r=p.querySelector("#filter-"+(t||"all"));r||(t="",r=p.querySelector("#filter-all")),r.checked=!0,I(t,!0)}p.addEventListener("input",function(t){let r=t.target.closest(`[name="${S}"]`);if(!r)return;let h=r.value;I(h)})}var O=class extends HTMLElement{constructor(){if(super(),!this.querySelector("[data-filtered-tiles-template]"))throw new Error("A template must be provided to create the filter elements.");if(!this.querySelector("[data-filtered-tiles-group]"))throw new Error("A group for the items must be provided to enable filtering.");let S=this.querySelector("[data-filtered-tiles-group]");S.setAttribute("data-filtered-list",""),Array.from(S.children).forEach(s=>s.setAttribute("data-filtered-item",""));let A=this.dataset.filters.split(",").map(s=>s.trim().toLowerCase()),x=this.getAttribute("filter-class")||"",f=this.getAttribute("filter-legend")||"Filter",E=this.getAttribute("filter-all-label")||"All",m=this.getAttribute("input-name")||"filter",c=Object.assign(document.createElement("fieldset"),{className:"filtering"});x&&c.classList.add(x);let I=Object.assign(document.createElement("legend"),{className:"visually-hidden",innerText:f}),t=Object.assign(document.createElement("strong"),{ariaHidden:!0,className:"filtering-legend",innerText:f});c.appendChild(I),c.appendChild(t);let r=this.querySelector("[data-filtered-tiles-template]"),h=(s,g=null,d=!1)=>{let u=r.content.cloneNode(!0),w=u.querySelector("input"),q=u.querySelector("label"),C=`filter-${(g||s).toLowerCase()}`;return w.id=C,w.name=m,w.value=s||"",w.checked=d,q.htmlFor=C,q.innerText=g||s,u};[h("",E,!0)].concat(A.map(s=>h(s))).forEach(s=>c.appendChild(s.firstElementChild)),this.insertBefore(c,this.firstChild),T(this,m)}};customElements.define("filtered-tiles",O);})();
